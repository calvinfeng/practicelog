(this.webpackJsonppracticelogui=this.webpackJsonppracticelogui||[]).push([[0],{134:function(e,t,a){},153:function(e,t,a){},158:function(e,t,a){},159:function(e,t,a){},160:function(e,t,a){},161:function(e,t,a){},162:function(e,t,a){},163:function(e,t,a){},164:function(e,t,a){},165:function(e,t,a){"use strict";a.r(t);var n,l,s=a(2),i=a(0),r=a.n(i),c=a(12),o=a.n(c),d=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,242)).then((function(t){var a=t.getCLS,n=t.getFID,l=t.getFCP,s=t.getLCP,i=t.getTTFB;a(e),n(e),l(e),s(e),i(e)}))},u=a(37),h=a(99),b=a(110),g=a(52),p=a(53),j=a(57),m=a(56),L=(a(134),a(235)),f=a(216),y=a(210),O=a(47),x=a(231),v=a(100),C=a.n(v),S=(a(153),a(84)),E=a(236),P=a(166),D=a(202),T=a(203),N=a(204),w=a(167),k=a(205),A=a(206),I=a(207),M=a(72),H=a.n(M),_=a(75),B=a.n(_),F=a(74),U=a.n(F),G=a(104),W=a.n(G),R=a(103),q=a.n(R),Y=a(102),z=a.n(Y),V=a(105),J=a.n(V);function K(e){var t=[],a={padding:"5px"},n={padding:"5px",width:"35%"},l=function(t){return function(){e.handleSelectLogEntry(t),e.scrollToBottom()}},i=function(t){return function(){e.handleHTTPDeleteLogEntry(t)}},r=function(t){return function(){var a=Object.assign({},t,{id:""});a.date=new Date,a.assignments&&a.assignments.forEach((function(e){e.completed=!1})),e.handleSelectLogEntry(a),e.scrollToBottom()}},c=function(t){return function(a){e.handleFocusLogEntryAndAnchorEl(a,t)}};return e.logEntries.forEach((function(e){var o,d,u={margin:"0.1rem"},h=[];e.labels&&(h=e.labels.map((function(e){return Object(s.jsx)(E.a,{style:u,label:e.name,icon:Object(s.jsx)(H.a,{}),color:"primary"})}))),null===e.assignments||void 0===e.assignments||0===e.assignments.length?o=Object(s.jsx)(P.a,{color:"primary",component:"span",onClick:c(e),disabled:!0,children:Object(s.jsx)(z.a,{})}):o=(d=e.assignments).filter((function(e){return e.completed})).length===d.length?Object(s.jsx)(P.a,{color:"primary",component:"span",onClick:c(e),children:Object(s.jsx)(q.a,{})}):Object(s.jsx)(P.a,{color:"primary",component:"span",onClick:c(e),children:Object(s.jsx)(W.a,{})}),t.push(Object(s.jsxs)(D.a,{children:[Object(s.jsx)(T.a,{style:a,children:Z(e.date)}),Object(s.jsxs)(T.a,{style:a,children:[e.duration," mins"]}),Object(s.jsx)(T.a,{style:n,children:h}),Object(s.jsx)(T.a,{style:n,children:e.message}),Object(s.jsxs)(T.a,{style:a,children:[o,Object(s.jsx)(P.a,{color:"primary",component:"span",onClick:l(e),children:Object(s.jsx)(U.a,{})}),Object(s.jsx)(P.a,{color:"primary",component:"span",onClick:r(e),children:Object(s.jsx)(J.a,{})}),Object(s.jsx)(P.a,{color:"secondary",component:"span",onClick:i(e),children:Object(s.jsx)(B.a,{})})]})]}))})),Object(s.jsx)(N.a,{className:"LogTable",component:w.a,children:Object(s.jsxs)(k.a,{children:[Object(s.jsx)(A.a,{children:Object(s.jsxs)(D.a,{children:[Object(s.jsx)(T.a,{style:a,children:"Date"}),Object(s.jsx)(T.a,{style:a,children:"Duration"}),Object(s.jsx)(T.a,{style:a,children:"Labels"}),Object(s.jsx)(T.a,{style:a,children:"Message"}),Object(s.jsx)(T.a,{style:a,children:"Action"})]})}),Object(s.jsx)(I.a,{children:t})]})})}function Z(e){var t=S.DateTime.fromISO(e.toISOString());return t.setZone("America/Los_Angeles"),t.toLocaleString(S.DateTime.DATE_MED_WITH_WEEKDAY).toString()}!function(e){e.None="NONE",e.Child="CHILD",e.Parent="PARENT"}(n||(n={})),function(e){e.EditEntry="EDIT_ENTRY",e.NewEntry="NEW_ENTRY"}(l||(l={}));var Q="00000000-0000-0000-0000-000000000000",X=a(109),$=a(16),ee=a(228);function te(e){return Object(s.jsx)("section",{className:"DateSelector",children:Object(s.jsx)($.a,{utils:X.a,children:Object(s.jsx)(ee.a,{value:e.inputDate,disableToolbar:!0,variant:"inline",format:"MM/dd/yyyy",margin:"normal",label:"Date",animateYearScrolling:!0,onChange:function(t){e.setInputDate(t)}})})})}var ae=a(64),ne=a(214),le=a(239),se=a(230),ie=a(217),re=a(77),ce=a.n(re),oe=function(e,t){return e.name<t.name?-1:e.name>t.name?1:0};function de(e){var t=r.a.useState(null),a=Object(u.a)(t,2),n=a[0],l=a[1];if(0===e.logLabels.length)return Object(s.jsx)(O.a,{children:"Create a Label"});var i=function(t){var a=e.inputLabelList.find((function(e){return e.id===t}));return Boolean(a)},c=function(t){return e.logLabels.find((function(e){return e.id===t}))},o=e.inputLabelList.map((function(t){return Object(s.jsx)(f.a,{item:!0,children:Object(s.jsx)(E.a,{style:{margin:"0.1rem"},label:t.name,icon:Object(s.jsx)(H.a,{}),color:"primary",onDelete:(a=t.id,function(){e.removeFromInputLabelList(a)})})});var a}));return Object(s.jsxs)("section",{className:"LabelSelector",children:[Object(s.jsx)(f.a,{direction:"row",justify:"flex-start",alignItems:"center",container:!0,spacing:0,children:o}),Object(s.jsxs)(f.a,{direction:"row",justify:"flex-end",alignItems:"flex-end",container:!0,spacing:0,children:[Object(s.jsx)(f.a,{item:!0,children:Object(s.jsxs)(ne.a,{style:{width:"200px"},children:[Object(s.jsx)(le.a,{id:"label-selector-label",children:"Label"}),Object(s.jsx)(se.a,{labelId:"label-selector-label",id:"label-selector",value:n,onChange:function(e){l(e.target.value)},children:e.logLabels.sort(oe).map((function(e){return Object(s.jsx)(ie.a,{value:e.id,children:e.name})}))})]})}),Object(s.jsx)(f.a,{item:!0,children:Object(s.jsx)(y.a,{variant:"outlined",color:"primary",style:{marginLeft:"0.5rem"},onClick:function(){if(null!==n&&!i(n)){var t=Object(ae.a)(e.inputLabelList),a=c(n);if(a&&t.push(a),a&&null!==a.parent_id&&!i(a.parent_id)){var l=c(a.parent_id);l&&t.push(l)}e.setInputLabelList(t)}},startIcon:Object(s.jsx)(ce.a,{}),children:"Add Label"})})]})]})}var ue=a(240);function he(e){return Object(s.jsxs)("section",{className:"DurationSelector",children:[Object(s.jsxs)(O.a,{id:"discrete-minute-slider",gutterBottom:!0,children:["Duration: ",e.inputDuration," minutes"]}),Object(s.jsx)(ue.a,{defaultValue:0,value:e.inputDuration,onChange:function(t,a){e.setInputDuration(a)},"aria-labelledby":"discrete-minute-slider",valueLabelDisplay:"auto",step:5,marks:!0,min:0,max:180})]})}var be=a(237);function ge(e){return Object(s.jsx)("section",{className:"MessageEditor",children:Object(s.jsx)(be.a,{label:"Log Message",value:e.inputMessage,onChange:function(t){e.setInputMessage(t.target.value)},fullWidth:!0,InputLabelProps:{shrink:!0}})})}var pe=a(169),je=a(218),me=a(219),Le=a(215),fe=a(106),ye=a.n(fe);function Oe(e){var t=r.a.useState(""),a=Object(u.a)(t,2),n=a[0],l=a[1],i=r.a.useState(null),c=Object(u.a)(i,2),o=c[0],d=c[1],h=function(t){return function(){var a=Object(ae.a)(e.inputAssignmentList);a.splice(t.position,1);for(var n=0;n<a.length;n++)a[n].position=n;e.setInputAssignmentList(a)}},b=function(e){return function(){d(e),l(e.name)}},g=[];e.inputAssignmentList&&(g=e.inputAssignmentList.map((function(e){return Object(s.jsxs)(pe.a,{children:[Object(s.jsx)(ye.a,{color:"action"}),Object(s.jsx)(je.a,{primary:e.name,style:{marginLeft:"1rem"}}),Object(s.jsxs)(me.a,{children:[Object(s.jsx)(P.a,{edge:"end","aria-label":"Edit",onClick:b(e),children:Object(s.jsx)(U.a,{})}),Object(s.jsx)(P.a,{edge:"end","aria-label":"Delete",onClick:h(e),children:Object(s.jsx)(B.a,{})})]})]})})));var p=[Object(s.jsx)(f.a,{item:!0,children:Object(s.jsx)(be.a,{style:{width:"500px"},label:"Assignment Name",value:n,onChange:function(e){l(e.target.value)},fullWidth:!0,InputLabelProps:{shrink:!0}})})];if(null!==o)p.push(Object(s.jsx)(f.a,{item:!0,children:Object(s.jsxs)(y.a,{form:"assignment-submission-form",type:"submit",variant:"outlined",color:"primary",style:{marginLeft:"0.5rem"},children:["Save Assignment ",o.position]})}));else{var j=0;e.inputAssignmentList&&(j=e.inputAssignmentList.length),p.push(Object(s.jsx)(f.a,{item:!0,children:Object(s.jsxs)(y.a,{form:"assignment-submission-form",type:"submit",variant:"outlined",color:"primary",style:{marginLeft:"0.5rem"},children:["Add Assignment ",j]})}))}return p.push(Object(s.jsx)(f.a,{item:!0,children:Object(s.jsx)(y.a,{variant:"outlined",color:"secondary",onClick:function(){d(null)},disabled:null===o,style:{marginLeft:"0.5rem"},children:"Clear"})})),Object(s.jsxs)("section",{className:"AssignmentEditor",children:[Object(s.jsx)(Le.a,{dense:!1,children:g}),Object(s.jsx)("form",{id:"assignment-submission-form",onSubmit:function(t){t.preventDefault();var a=[];Boolean(e.inputAssignmentList)&&(a=Object(ae.a)(e.inputAssignmentList)),null!==o?(a[o.position].name=n,a[o.position].completed=!1):a.push({position:a.length,name:n,completed:!1}),l(""),d(null),e.setInputAssignmentList(a)},children:Object(s.jsx)(f.a,{container:!0,direction:"row",justify:"flex-end",alignItems:"flex-end",spacing:0,style:{marginTop:"1rem "},children:p})})]})}a(158);var xe=a(107),ve=a.n(xe);function Ce(e){var t={margin:"0.1rem"},a=[];switch(e.mode){case l.EditEntry:a=[Object(s.jsx)(f.a,{item:!0,children:Object(s.jsx)(y.a,{style:t,variant:"contained",color:"primary",startIcon:Object(s.jsx)(ve.a,{}),onClick:function(){var t={id:e.inputID,user_id:"calvin.j.feng@gmail.com",date:new Date,duration:e.inputDuration,message:e.inputMessage,labels:e.inputLabelList,assignments:e.inputAssignmentList,details:""};null!==e.inputDate&&(t.date=e.inputDate),console.log("update log entry with date",t.date.toISOString()),e.handleHTTPUpdateLogEntry(t)},children:"Save Entry"})}),Object(s.jsx)(f.a,{item:!0,children:Object(s.jsx)(y.a,{style:t,variant:"contained",color:"secondary",onClick:e.handleDeselectLogEntry,children:"Cancel"})})];break;case l.NewEntry:a=[Object(s.jsx)(f.a,{item:!0,children:Object(s.jsx)(y.a,{style:t,variant:"contained",color:"primary",startIcon:Object(s.jsx)(ce.a,{}),onClick:function(){var t={id:"00000000-0000-0000-0000-000000000000",user_id:"calvin.j.feng@gmail.com",date:new Date,duration:e.inputDuration,message:e.inputMessage,labels:e.inputLabelList,assignments:e.inputAssignmentList,details:""};null!==e.inputDate&&(t.date=e.inputDate),console.log("create log entry with date",t.date.toISOString()),e.handleHTTPCreateLogEntry(t)},children:"New Entry"})}),Object(s.jsx)(f.a,{item:!0,children:Object(s.jsx)(y.a,{style:t,variant:"contained",color:"secondary",onClick:e.handleDeselectLogEntry,children:"Cancel"})})]}return Object(s.jsx)(f.a,{container:!0,direction:"row",justify:"flex-end",alignItems:"flex-end",spacing:0,style:{marginTop:"1rem "},children:a})}var Se={mode:l.NewEntry,inputID:null,inputDate:new Date,inputDuration:0,inputMessage:"",inputLabelList:[],inputAssignmentList:[]},Ee=function(e){Object(j.a)(a,e);var t=Object(m.a)(a);function a(e){var n;if(Object(g.a)(this,a),(n=t.call(this,e)).handleSetInputDate=function(e){n.setState({inputDate:e})},n.handleSetInputDuration=function(e){n.setState({inputDuration:e})},n.handleSetInputLabelList=function(e){n.setState({inputLabelList:e})},n.handleSetInputAssignmentList=function(e){n.setState({inputAssignmentList:e})},n.handleSetInputMessage=function(e){n.setState({inputMessage:e})},n.handleRemoveFromInputLabelList=function(e){n.setState({inputLabelList:n.state.inputLabelList.filter((function(t){return t.id!==e}))})},null==e.selectedLogEntry)n.state=Se;else{var s=l.EditEntry;0===e.selectedLogEntry.id.length&&(s=l.NewEntry),n.state={mode:s,inputID:e.selectedLogEntry.id,inputDate:e.selectedLogEntry.date,inputDuration:e.selectedLogEntry.duration,inputMessage:e.selectedLogEntry.message,inputLabelList:e.selectedLogEntry.labels,inputAssignmentList:e.selectedLogEntry.assignments}}return n}return Object(p.a)(a,[{key:"componentWillReceiveProps",value:function(e){if(null!==e.selectedLogEntry||null!==this.props.selectedLogEntry)if(null!==e.selectedLogEntry){var t=l.EditEntry;0===e.selectedLogEntry.id.length&&(t=l.NewEntry),this.setState({mode:t,inputID:e.selectedLogEntry.id,inputDate:e.selectedLogEntry.date,inputDuration:e.selectedLogEntry.duration,inputMessage:e.selectedLogEntry.message,inputLabelList:e.selectedLogEntry.labels,inputAssignmentList:e.selectedLogEntry.assignments})}else this.setState(Se)}},{key:"render",value:function(){return Object(s.jsxs)(w.a,{className:"LogEntryManagement",children:[this.header,Object(s.jsx)(te,{inputDate:this.state.inputDate,setInputDate:this.handleSetInputDate}),Object(s.jsx)(de,{logLabels:this.props.logLabels,inputLabelList:this.state.inputLabelList,removeFromInputLabelList:this.handleRemoveFromInputLabelList,setInputLabelList:this.handleSetInputLabelList}),Object(s.jsx)(he,{inputDuration:this.state.inputDuration,setInputDuration:this.handleSetInputDuration}),Object(s.jsx)(ge,{inputMessage:this.state.inputMessage,setInputMessage:this.handleSetInputMessage}),Object(s.jsx)(Oe,{inputAssignmentList:this.state.inputAssignmentList,setInputAssignmentList:this.handleSetInputAssignmentList}),Object(s.jsx)(Ce,{mode:this.state.mode,inputID:this.state.inputID,inputDate:this.state.inputDate,inputDuration:this.state.inputDuration,inputMessage:this.state.inputMessage,inputLabelList:this.state.inputLabelList,inputAssignmentList:this.state.inputAssignmentList,handleHTTPUpdateLogEntry:this.props.handleHTTPUpdateLogEntry,handleHTTPCreateLogEntry:this.props.handleHTTPCreateLogEntry,handleDeselectLogEntry:this.props.handleDeselectLogEntry})]})}},{key:"header",get:function(){switch(this.state.mode){case l.EditEntry:return Object(s.jsxs)(O.a,{variant:"h5",children:["Edit Log Entry ",this.state.inputID]});case l.NewEntry:return Object(s.jsx)(O.a,{variant:"h5",children:"Add Log Entry"});default:return Object(s.jsx)(O.a,{variant:"h5"})}}}]),a}(r.a.Component),Pe=a(222),De=a(223),Te=a(233),Ne=a(220),we=a(208),ke=a(221),Ae=a(209);function Ie(e){return null!=e.selectedChildLabel&&e.target===n.Child?Object(s.jsxs)(Te.a,{open:e.open,onClose:e.handleClose,children:[Object(s.jsxs)(Ne.a,{children:["Delete ",e.selectedChildLabel.name]}),Object(s.jsxs)(we.a,{children:[Object(s.jsxs)(ke.a,{children:["Are you sure you want to delete ",e.selectedChildLabel.name,"?"]}),Object(s.jsxs)(ke.a,{children:["Child label ",e.selectedChildLabel.id," will be deleted. The effect will propagate to all log entries."]})]}),Object(s.jsxs)(Ae.a,{children:[Object(s.jsx)(y.a,{autoFocus:!0,onClick:e.handleClose,color:"primary",children:"Cancel"}),Object(s.jsx)(y.a,{onClick:e.handleClose,color:"secondary",disabled:!0,children:"Confirm Delete"})]})]}):null!=e.selectedParentLabel&&e.target===n.Parent?Object(s.jsxs)(Te.a,{open:e.open,onClose:e.handleClose,children:[Object(s.jsxs)(Ne.a,{children:["Delete ",e.selectedParentLabel.name]}),Object(s.jsxs)(we.a,{children:[Object(s.jsxs)(ke.a,{children:["Are you sure you want to delete ",e.selectedParentLabel.name,"?"]}),Object(s.jsxs)(ke.a,{children:["Parent label ",e.selectedParentLabel.id," will be deleted. This will affect all nested child labels and log entries."]})]}),Object(s.jsxs)(Ae.a,{children:[Object(s.jsx)(y.a,{autoFocus:!0,onClick:e.handleClose,color:"primary",children:"Cancel"}),Object(s.jsx)(y.a,{onClick:e.handleClose,color:"secondary",disabled:!0,children:"Confirm Delete"})]})]}):Object(s.jsx)("div",{})}a(159);var Me={selectedParentLabel:null,selectedChildLabel:null,inputParentLabelName:"",inputChildLabelName:"",showDeleteDialog:!1,deleteTarget:n.None},He=function(e){Object(j.a)(a,e);var t=Object(m.a)(a);function a(e){var l;return Object(g.a)(this,a),(l=t.call(this,e)).newHandlerSelectParentLabel=function(e){return function(){null===e?l.setState({inputParentLabelName:"",inputChildLabelName:"",selectedParentLabel:null,selectedChildLabel:null}):l.setState({inputParentLabelName:e.name,inputChildLabelName:"",selectedParentLabel:e,selectedChildLabel:null})}},l.newHandlerSelectChildLabel=function(e){return function(){null===e?l.setState({inputChildLabelName:"",selectedChildLabel:null}):l.setState({inputChildLabelName:e.name,selectedChildLabel:e})}},l.handleCreateParentLabel=function(){var e={id:Q,parent_id:null,children:[],name:l.state.inputParentLabelName};l.props.handleHTTPCreateLogLabel(e),l.setState(Me)},l.handleUpdateParentLabel=function(){if(null!==l.state.selectedParentLabel){var e={id:l.state.selectedParentLabel.id,parent_id:Q,name:l.state.inputParentLabelName,children:[]};l.props.handleHTTPUpdateLogLabel(e),l.setState(Me)}},l.handleDeleteParentLabel=function(){null!==l.state.selectedParentLabel&&(l.props.handleHTTPDeleteLogLabel(l.state.selectedParentLabel),l.setState(Me))},l.handleClickCreateChildLabel=function(){if(null!==l.state.selectedParentLabel){var e={id:Q,parent_id:l.state.selectedParentLabel.id,name:l.state.inputChildLabelName,children:[]};l.props.handleHTTPCreateLogLabel(e),l.setState(Me)}},l.handleUpdateChildLabel=function(){if(null!==l.state.selectedChildLabel){var e={id:l.state.selectedChildLabel.id,parent_id:l.state.selectedChildLabel.parent_id,name:l.state.inputChildLabelName,children:[]};l.props.handleHTTPUpdateLogLabel(e),l.setState(Me)}},l.handleDeleteChildLabel=function(){null!==l.state.selectedChildLabel&&(l.props.handleHTTPDeleteLogLabel(l.state.selectedChildLabel),l.setState(Me))},l.handleParentLabelNameChange=function(e){l.setState({inputParentLabelName:e.target.value})},l.handleChildLabelNameChange=function(e){l.setState({inputChildLabelName:e.target.value})},l.handleCloseDeleteDialog=function(){l.setState({showDeleteDialog:!1,deleteTarget:n.None})},l.state=Me,l}return Object(p.a)(a,[{key:"render",value:function(){return Object(s.jsxs)(w.a,{className:"LabelManagement",children:[Object(s.jsx)(O.a,{variant:"h5",children:"Manage Labels"}),Object(s.jsxs)(f.a,{style:{width:"100%",marginTop:"1rem"},direction:"row",justify:"flex-start",alignItems:"flex-start",container:!0,spacing:1,children:[this.panelParentLabels,Object(s.jsx)(Pe.a,{orientation:"vertical",flexItem:!0}),this.panelChildLabels,Object(s.jsx)(Pe.a,{orientation:"vertical",flexItem:!0}),this.panelEditLabel]}),Object(s.jsx)(Ie,{target:this.state.deleteTarget,open:this.state.showDeleteDialog,selectedChildLabel:this.state.selectedChildLabel,selectedParentLabel:this.state.selectedParentLabel,handleClose:this.handleCloseDeleteDialog,handleDeleteChildLabel:this.handleDeleteChildLabel,handleDeleteParentLabel:this.handleDeleteParentLabel})]})}},{key:"panelParentLabels",get:function(){var e=this,t=this.props.logLabels.filter((function(e){return e.parent_id===Q})).map((function(t){var a={margin:"0.1rem"},n=e.newHandlerSelectParentLabel(t);return null!==e.state.selectedParentLabel&&e.state.selectedParentLabel.id===t.id&&(a.background="green",n=e.newHandlerSelectParentLabel(null)),Object(s.jsx)(f.a,{item:!0,children:Object(s.jsx)(E.a,{onClick:n,style:a,label:t.name,icon:Object(s.jsx)(De.a,{}),color:"primary"})})}));return Object(s.jsx)(f.a,{style:{width:"30%",margin:"0.5rem"},direction:"row",justify:"flex-start",alignItems:"center",container:!0,spacing:0,children:t})}},{key:"panelChildLabels",get:function(){var e=this,t=this.props.logLabels.filter((function(t){return null!==e.state.selectedParentLabel&&t.parent_id===e.state.selectedParentLabel.id})).map((function(t){var a={margin:"0.1rem"},n=e.newHandlerSelectChildLabel(t);return null!==e.state.selectedParentLabel&&null!==e.state.selectedChildLabel&&e.state.selectedChildLabel.id===t.id&&(a.background="green",n=e.newHandlerSelectChildLabel(null)),Object(s.jsx)(f.a,{item:!0,children:Object(s.jsx)(E.a,{onClick:n,style:a,label:t.name,icon:Object(s.jsx)(De.a,{}),color:"primary"})})}));return Object(s.jsx)(f.a,{style:{width:"30%",margin:"0.5rem"},direction:"row",justify:"flex-start",alignItems:"center",container:!0,spacing:0,children:t})}},{key:"selectedChildLabelButtonGroup",get:function(){var e=this;return null===this.state.selectedParentLabel||null===this.state.selectedChildLabel?[]:[Object(s.jsx)(f.a,{item:!0,children:Object(s.jsxs)(O.a,{variant:"subtitle1",children:["Selected Child Label: ",this.state.selectedChildLabel.name]})}),Object(s.jsx)(f.a,{item:!0,children:Object(s.jsx)(be.a,{label:"Child Label Name",value:this.state.inputChildLabelName,onChange:this.handleChildLabelNameChange,fullWidth:!0,InputLabelProps:{shrink:!0}})}),Object(s.jsxs)(f.a,{item:!0,children:[Object(s.jsx)(y.a,{style:{margin:"0.1rem"},onClick:this.handleUpdateChildLabel,disabled:this.state.inputChildLabelName===this.state.selectedChildLabel.name,variant:"contained",color:"primary",children:"Update"}),Object(s.jsxs)(y.a,{style:{margin:"0.1rem"},onClick:function(){e.setState({showDeleteDialog:!0,deleteTarget:n.Child})},variant:"contained",color:"secondary",children:["Delete ",this.state.selectedChildLabel.name]})]})]}},{key:"selectedParentLabelButtonGroup",get:function(){var e=this;return null===this.state.selectedParentLabel?[]:[Object(s.jsx)(f.a,{item:!0,children:Object(s.jsxs)(O.a,{variant:"subtitle1",children:["Selected Parent Label: ",this.state.selectedParentLabel.name]})}),Object(s.jsx)(f.a,{item:!0,children:Object(s.jsx)(be.a,{label:"Parent Label Name",value:this.state.inputParentLabelName,onChange:this.handleParentLabelNameChange,fullWidth:!0,InputLabelProps:{shrink:!0}})}),Object(s.jsx)(f.a,{item:!0,children:Object(s.jsx)(be.a,{label:"Child Label Name",value:this.state.inputChildLabelName,onChange:this.handleChildLabelNameChange,fullWidth:!0,InputLabelProps:{shrink:!0}})}),Object(s.jsxs)(f.a,{item:!0,children:[Object(s.jsx)(y.a,{style:{margin:"0.1rem"},onClick:this.handleClickCreateChildLabel,disabled:0===this.state.inputChildLabelName.length,variant:"contained",color:"primary",children:"Create Child"}),Object(s.jsx)(y.a,{style:{margin:"0.1rem"},onClick:this.handleUpdateParentLabel,disabled:this.state.inputParentLabelName===this.state.selectedParentLabel.name,variant:"contained",color:"primary",children:"Update"}),Object(s.jsxs)(y.a,{style:{margin:"0.1rem"},onClick:function(){e.setState({showDeleteDialog:!0,deleteTarget:n.Parent})},variant:"contained",color:"secondary",children:["Delete ",this.state.selectedParentLabel.name]})]})]}},{key:"selectedNoneLabelButtonGroup",get:function(){return[Object(s.jsx)(f.a,{item:!0,children:Object(s.jsx)(be.a,{label:"New Label Name",value:this.state.inputParentLabelName,onChange:this.handleParentLabelNameChange,fullWidth:!0,InputLabelProps:{shrink:!0}})}),Object(s.jsx)(f.a,{item:!0,children:Object(s.jsx)(y.a,{style:{margin:"0.1rem"},onClick:this.handleCreateParentLabel,variant:"contained",color:"primary",children:"Create"})})]}},{key:"panelEditLabel",get:function(){var e;return e=null!==this.state.selectedParentLabel&&null!==this.state.selectedChildLabel?this.selectedChildLabelButtonGroup:null!==this.state.selectedParentLabel&&null===this.state.selectedChildLabel?this.selectedParentLabelButtonGroup:this.selectedNoneLabelButtonGroup,Object(s.jsx)(f.a,{style:{width:"30%",margin:"0.5rem"},direction:"column",justify:"flex-start",alignItems:"flex-start",container:!0,spacing:1,children:e})}}]),a}(r.a.Component),_e=a(232),Be=a(211);a(160);function Fe(e){var t=[];null!==e.focusedLogEntry&&e.focusedLogEntry.assignments&&(t=e.focusedLogEntry.assignments);var a=Object(s.jsx)(N.a,{component:w.a,className:"table-content",children:Object(s.jsxs)(k.a,{className:"assignment-list-table-view","aria-label":"simple table",children:[Object(s.jsx)(A.a,{children:Object(s.jsxs)(D.a,{children:[Object(s.jsx)(T.a,{align:"left",children:"Item"}),Object(s.jsx)(T.a,{align:"center",children:"Done"})]})}),Object(s.jsx)(I.a,{children:t.map((function(t){return Object(s.jsxs)(D.a,{children:[Object(s.jsx)(T.a,{align:"left",children:t.name}),Object(s.jsx)(T.a,{align:"center",children:Object(s.jsx)(_e.a,{onChange:(a=t.position,function(t){if(null!==e.focusedLogEntry){var n=e.focusedLogEntry;n.assignments[a].completed=t.target.checked,console.log(n.assignments[a].name,"set to",t.target.checked),e.handleHTTPUpdateLogAssignments(n)}}),checked:t.completed,inputProps:{"aria-label":"primary checkbox"}})})]},"assignment-item-".concat(t.position));var a}))})]})});return Object(s.jsx)(Be.a,{className:"AssignmentChecklistPopover",id:"assignment-popover",open:Boolean(e.popoverAnchor),anchorEl:e.popoverAnchor,onClose:e.handleClearPopoverAnchorEl,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:a})}var Ue=a(108),Ge=a.n(Ue),We=a(224),Re=a(234),qe=a(225),Ye=a(226),ze=a(227);a(161);function Ve(e){var t=r.a.useState(!1),a=Object(u.a)(t,2),n=a[0],l=a[1],i=r.a.useState(null),c=Object(u.a)(i,2),o=c[0],d=c[1],h=function(t){var a,n=!1;return null!==d&&(n=o===t.id),Object(s.jsx)(We.a,{onClick:function(e){return e.stopPropagation()},control:Object(s.jsx)(_e.a,{checked:n,onChange:(a=t.id,function(t){t.stopPropagation(),d(o===a?null:a),e.logLabelDurations.get(a)||e.fetchLogLabelDuration(a)}),name:t.name,color:"primary"}),label:t.name})},b=[],g=[];e.logLabels&&(b=e.logLabels.filter((function(e){return e.parent_id===Q})).sort(oe).map(h),g=e.logLabels.filter((function(e){return e.parent_id!==Q})).sort(oe).map(h));var p="Please select a label to view how much time you've spent on it";if(o&&e.logLabelDurations.get(o)){var j=e.logLabelDurations.get(o);p="You have spent ".concat(Math.floor(j/60)," hours and ").concat(j%60," minutes on it")}return Object(s.jsxs)(Re.a,{className:"DurationViewer",expanded:n,onClick:function(e){l(!n)},children:[Object(s.jsxs)(qe.a,{expandIcon:Object(s.jsx)(Ge.a,{}),children:[Object(s.jsx)(Ye.a,{className:"parent-form-group",row:!0,children:b}),Object(s.jsx)(Pe.a,{}),Object(s.jsx)(Ye.a,{className:"child-form-group",row:!0,children:g})]}),Object(s.jsx)(ze.a,{children:Object(s.jsx)(O.a,{variant:"body1",children:p})})]})}var Je=a(85),Ke=function(e){Object(j.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).http=void 0,n.pageAnchor=void 0,n.fetchLogLabelDuration=function(e){n.http.get("/api/v1/log/labels/".concat(e,"/duration")).then((function(e){var t=e.data;n.setState({logLabelDurations:n.state.logLabelDurations.set(t.id,t.duration)})})).catch((function(e){n.setState({alertShown:!0,alertMessage:"Failed to list log label duration due to ".concat(e),alertSeverity:"error"})}))},n.handleHTTPCreateLogLabel=function(e){n.http.post("/api/v1/log/labels",e).then((function(t){201===t.status&&(n.fetchLogLabels(),n.setState({alertShown:!0,alertMessage:"Successfully created log label ".concat(e.name),alertSeverity:"success"}))})).catch((function(t){n.setState({alertShown:!0,alertMessage:"Failed to create log label ".concat(e.name," due to ").concat(t),alertSeverity:"error"})}))},n.handleHTTPUpdateLogLabel=function(e){n.http.put("/api/v1/log/labels/".concat(e.id),e).then((function(t){200===t.status&&(n.fetchLogLabels(),n.fetchLogEntriesByPage(n.state.pageNum),n.setState({alertShown:!0,alertMessage:"Successfully updated log label ".concat(e.name),alertSeverity:"success"}))})).catch((function(t){n.setState({alertShown:!0,alertMessage:"Failed to update log label ".concat(e.name," due to ").concat(t),alertSeverity:"error"})}))},n.handleHTTPDeleteLogLabel=function(e){n.http.delete("/api/v1/log/labels/".concat(e.id)).then((function(t){200===t.status&&(n.fetchLogLabels(),n.fetchLogEntriesByPage(n.state.pageNum),n.setState({alertShown:!0,alertMessage:"Successfully deleted log label ".concat(e.name),alertSeverity:"success"}))})).catch((function(t){n.setState({alertShown:!0,alertMessage:"Failed to delete log label ".concat(e.name," due to ").concat(t),alertSeverity:"error"})}))},n.handleHTTPDeleteLogEntry=function(e){n.http.delete("/api/v1/log/entries/".concat(e.id)).then((function(t){200===t.status&&(n.fetchLogEntriesByPage(n.state.pageNum),n.setState({alertShown:!0,alertMessage:"Successfully deleted log entry ".concat(e.id),alertSeverity:"success"}))})).catch((function(t){n.setState({alertShown:!0,alertMessage:"Failed to delete log entry ".concat(e.id," due to ").concat(t),alertSeverity:"error"})}))},n.handleHTTPCreateLogEntry=function(e){n.http.post("/api/v1/log/entries",e).then((function(e){201===e.status&&(n.fetchLogEntriesByPage(n.state.pageNum),n.setState({alertShown:!0,alertMessage:"Successfully created new log entry",alertSeverity:"success",selectedLogEntry:null}))})).catch((function(e){n.setState({alertShown:!0,alertMessage:"Failed to create log entry due to ".concat(e),alertSeverity:"error"})}))},n.handleHTTPUpdateLogAssignments=function(e){n.http.put("/api/v1/log/entries/".concat(e.id,"/assignments"),e).then((function(t){for(var a=t.data,l=n.state.logEntries,s=0;s<l.length;s++)if(l[s].id===a.id){l[s]={id:t.data.id,date:new Date(t.data.date),user_id:t.data.user_id,labels:t.data.labels,message:t.data.message,details:t.data.details,duration:t.data.duration,assignments:t.data.assignments};break}n.setState({logEntries:l,focusedLogEntry:a,alertShown:!0,alertSeverity:"success",alertMessage:"Successfully updated entry ".concat(e.id," assignments")})})).catch((function(e){n.setState({alertShown:!0,alertMessage:"Failed to update log entry assignment due to ".concat(e),alertSeverity:"error"})}))},n.handleHTTPUpdateLogEntry=function(e){n.http.put("/api/v1/log/entries/".concat(e.id),e).then((function(t){for(var a=t.data,l=n.state.logEntries,s=0;s<l.length;s++)if(l[s].id===a.id){l[s]={id:t.data.id,date:new Date(t.data.date),user_id:t.data.user_id,labels:t.data.labels,message:t.data.message,details:t.data.details,duration:t.data.duration,assignments:t.data.assignments};break}n.setState({logEntries:l,selectedLogEntry:null,alertShown:!0,alertSeverity:"success",alertMessage:"Successfully updated entry ".concat(e.id)})})).catch((function(e){n.setState({alertShown:!0,alertMessage:"Failed to update log entry due to ".concat(e),alertSeverity:"error"})}))},n.scrollToBottom=function(){n.pageAnchor&&n.pageAnchor.scrollIntoView({behavior:"smooth"})},n.handleClearPopoverAnchorEl=function(){n.setState({popoverAnchor:null,focusedLogEntry:null})},n.handleSelectLogEntry=function(e){n.setState({selectedLogEntry:e})},n.handleDeselectLogEntry=function(){n.setState({selectedLogEntry:null})},n.handleFocusLogEntryAndAnchorEl=function(e,t){n.setState({focusedLogEntry:t,popoverAnchor:e.currentTarget})},n.handleCloseAlert=function(e,t){"clickaway"!==t&&n.setState({alertShown:!1})},n.state={logEntries:[],logLabels:[],logLabelDurations:Object(Je.a)(),selectedLogEntry:null,focusedLogEntry:null,pageNum:1,hasNextPage:!1,popoverAnchor:null,alertShown:!1,alertMessage:"",alertSeverity:"info"},n.http=C.a.create({baseURL:"".concat("https://agile-atoll-58505.herokuapp.com/"),timeout:1e3,headers:{Authorization:e.IDToken}}),n.pageAnchor=null,n}return Object(p.a)(a,[{key:"componentDidUpdate",value:function(e,t){this.state.pageNum!==t.pageNum&&this.fetchLogEntriesByPage(this.state.pageNum)}},{key:"componentDidMount",value:function(){this.fetchLogEntriesByPage(this.state.pageNum),this.fetchLogLabels()}},{key:"fetchLogLabels",value:function(){var e=this;this.http.get("/api/v1/log/labels").then((function(t){var a=t.data.results,n=Object(Je.a)();a.forEach((function(e){if(e.parent_id){var t=n.get(e.parent_id);t||(t=[]),t.push(e.id),n=n.set(e.parent_id,t)}})),a.forEach((function(e){n.get(e.id)?e.children=n.get(e.id):e.children=[]})),e.setState({logLabels:a})})).catch((function(t){e.setState({alertShown:!0,alertMessage:"Failed to list log labels due to ".concat(t),alertSeverity:"error"})}))}},{key:"fetchLogEntriesByPage",value:function(e){var t=this;this.http.get("/api/v1/log/entries",{params:{page:e}}).then((function(e){for(var a=[],n=0;n<e.data.results.length;n++)a.push({id:e.data.results[n].id,date:new Date(e.data.results[n].date),user_id:e.data.results[n].user_id,labels:e.data.results[n].labels,message:e.data.results[n].message,details:e.data.results[n].details,duration:e.data.results[n].duration,assignments:e.data.results[n].assignments});var l=t.state.selectedLogEntry;null!==l&&a.find((function(e){return e.id===l.id})),t.setState({logEntries:a,hasNextPage:e.data.more,selectedLogEntry:l})})).catch((function(e){t.setState({alertShown:!0,alertMessage:"Failed to list log entries due to ".concat(e),alertSeverity:"error"})}))}},{key:"render",value:function(){var e=this;return Object(s.jsxs)("section",{className:"PracticeLog",children:[Object(s.jsx)(Fe,{focusedLogEntry:this.state.focusedLogEntry,popoverAnchor:this.state.popoverAnchor,handleClearPopoverAnchorEl:this.handleClearPopoverAnchorEl,handleHTTPUpdateLogAssignments:this.handleHTTPUpdateLogAssignments}),Object(s.jsx)(K,{scrollToBottom:this.scrollToBottom,logEntries:this.state.logEntries,handleFocusLogEntryAndAnchorEl:this.handleFocusLogEntryAndAnchorEl,handleSelectLogEntry:this.handleSelectLogEntry,handleHTTPDeleteLogEntry:this.handleHTTPDeleteLogEntry}),this.PaginationControlPanel,Object(s.jsx)(Ee,{logLabels:this.state.logLabels,selectedLogEntry:this.state.selectedLogEntry,handleDeselectLogEntry:this.handleDeselectLogEntry,handleHTTPUpdateLogEntry:this.handleHTTPUpdateLogEntry,handleHTTPCreateLogEntry:this.handleHTTPCreateLogEntry}),Object(s.jsx)(He,{logLabels:this.state.logLabels,handleHTTPCreateLogLabel:this.handleHTTPCreateLogLabel,handleHTTPUpdateLogLabel:this.handleHTTPUpdateLogLabel,handleHTTPDeleteLogLabel:this.handleHTTPDeleteLogLabel}),Object(s.jsx)("div",{ref:function(t){e.pageAnchor=t}}),Object(s.jsx)(Ve,{fetchLogLabelDuration:this.fetchLogLabelDuration,logLabels:this.state.logLabels,logLabelDurations:this.state.logLabelDurations}),Object(s.jsx)(L.a,{open:this.state.alertShown,autoHideDuration:6e3,onClose:this.handleCloseAlert,children:Object(s.jsx)(Ze,{onClose:this.handleCloseAlert,severity:this.state.alertSeverity,children:this.state.alertMessage})})]})}},{key:"PaginationControlPanel",get:function(){var e=this,t=[];return this.state.pageNum>1&&t.push(Object(s.jsx)(f.a,{item:!0,children:Object(s.jsx)(y.a,{variant:"contained",color:"primary",onClick:function(){e.setState({pageNum:e.state.pageNum-1})},children:"Prev"})})),this.state.hasNextPage&&t.push(Object(s.jsx)(f.a,{item:!0,children:Object(s.jsx)(y.a,{variant:"contained",color:"primary",onClick:function(){e.setState({pageNum:e.state.pageNum+1})},children:"Next"})})),t.push(Object(s.jsx)(f.a,{item:!0,children:Object(s.jsxs)(O.a,{children:["Page ",this.state.pageNum," "]})})),Object(s.jsx)(f.a,{container:!0,direction:"row",justify:"flex-end",alignItems:"baseline",spacing:1,className:"pagination-control-panel",children:t})}}]),a}(r.a.Component);function Ze(e){return Object(s.jsx)(x.a,Object(b.a)({elevation:6,variant:"filled"},e))}a(162);var Qe=function(e){return Object(s.jsx)("div",{className:"Unauthorized",children:Object(s.jsxs)(O.a,{children:["Hi ",e.userProfile.full_name,", you are not allowed to access this application"]})})};a(163);var Xe=function(){var e=r.a.useState(null),t=Object(u.a)(e,2),a=t[0],n=t[1];return null!==a?"calvin.j.feng@gmail.com"===a.google_email?Object(s.jsx)("div",{className:"App",children:Object(s.jsx)(Ke,{IDToken:a.token_id})}):Object(s.jsx)("div",{className:"App",children:Object(s.jsx)(Qe,{userProfile:a})}):Object(s.jsx)("div",{className:"App",children:Object(s.jsx)("section",{style:{margin:"1rem"},children:Object(s.jsx)(h.GoogleLogin,{clientId:"138841198495-5evp80hjf1q35q88sqrqso4fikqv0t5j.apps.googleusercontent.com",buttonText:"Login with Google",onSuccess:function(e){e.code?e=e:n({token_id:(e=e).tokenId,access_token:e.accessToken,granted_scopes:e.getGrantedScopes(),google_user_id:e.getBasicProfile().getId(),google_email:e.getBasicProfile().getEmail(),full_name:e.getBasicProfile().getName(),given_name:e.getBasicProfile().getGivenName(),family_name:e.getBasicProfile().getFamilyName(),image_url:e.getBasicProfile().getImageUrl()})},onFailure:function(e){console.log("Google login failed",e.error,e.details)}})})})};a(164);o.a.render(Object(s.jsx)(r.a.StrictMode,{children:Object(s.jsx)(Xe,{})}),document.getElementById("root")),d()}},[[165,1,2]]]);
//# sourceMappingURL=main.9b5681d3.chunk.js.map